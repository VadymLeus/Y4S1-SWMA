@startuml

actor ":Адміністратор" as Admin
participant ":AdminDashboardPage" as UI
participant ":adminController" as Controller
participant ":Warning" as WarningModel
participant ":User" as UserModel
participant ":Site" as SiteModel

Admin -> UI : 1: натискає "Призупинити"
activate UI
UI -> Controller : 2: POST /api/admin/sites/:id/suspend
activate Controller

Controller -> WarningModel : 3: create(userId, siteId, reason)
activate WarningModel
' (Модель виконує внутрішню логіку)
WarningModel --> Controller : 3.1: (warning)
deactivate WarningModel

Controller -> WarningModel : 4: countForUser(userId)
activate WarningModel
' (Модель виконує внутрішню логіку)
WarningModel --> Controller : 4.1: (return 3)
deactivate WarningModel

alt 4.2: [count >= 3]
    Controller -> UserModel : 5: deleteById(userId)
    activate UserModel
    ' (Модель виконує внутрішню логіку)
    UserModel --> Controller : 5.1: (success)
    deactivate UserModel
end

Controller -> SiteModel : 6: updateStatus(siteId, 'suspended')
activate SiteModel
' (Модель виконує внутрішню логіку)
SiteModel --> Controller : 6.1: (success)
deactivate SiteModel

Controller --> UI : 7: HTTP 200 OK (data)
deactivate Controller
UI -> Admin : 8: оновлює UI (статус 'Suspended')
deactivate UI

@enduml